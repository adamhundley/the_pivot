<ul class="nav pull-left user-cart">
  <% if current_page?(controller: "sessions", action: "new") || current_page?(controller: "users", action: "new") %>
    <% if !@cart.contents.empty? %>
      <li class="pull-right nav-icon">
        <a id="cart" href="/cart" style="color:#777; margin-top: 5px;"><i class="fa fa-shopping-cart fa-lg"></i> (<%= @cart.count %>) </a>
      </li>
    <% end %>
  <% elsif current_user  %>
    <li class="dropdown pull-right nav-icon">
      <a href="#" data-toggle="dropdown" style="color:#777; margin-top: 5px;" class="dropdown-toggle"><i class="fa fa-user fa-lg"></i></a>
      <ul class="dropdown-menu">
        <li class="name-in-dropdown">
          <%= current_user.fullname.downcase %>
        </li>
        <li><%= link_to "order history", user_orders_path(current_user) %></li>
        <li>
          <%= link_to "logout", logout_path, method: :delete %>
        </li>
      </ul>
    </li>
    <% if !@cart.contents.empty? %>
      <li class="pull-right nav-icon">
        <a id="cart" href="/cart" style="color:#777; margin-top: 5px;"><i class="fa fa-shopping-cart fa-lg"></i> (<%= @cart.count %>) </a>
      </li>
    <% end %>
  <% else %>
    <li class="pull-right nav-icon">
      <a id="login" href="/login" style="color:#777; margin-top: 5px;"><i class="fa fa-sign-in fa-lg"></i></a>
    </li>
    <% if !@cart.contents.empty? %>
      <li class="pull-right nav-icon">
        <a id="cart" href="/cart" style="color:#777; margin-top: 5px;"><i class="fa fa-shopping-cart fa-lg"></i> (<%= @cart.count %>) </a>
      </li>
    <% end %>
  <% end %>
</ul>
